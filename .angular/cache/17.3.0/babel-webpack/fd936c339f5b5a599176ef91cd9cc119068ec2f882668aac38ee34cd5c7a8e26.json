{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/spotify.service\";\nimport * as i2 from \"src/app/services/user.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../shared/loading/loading.component\";\nimport * as i5 from \"../tarjetas/tarjetas.component\";\nfunction SearchComponent_app_loading_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\", 6);\n  }\n}\nfunction SearchComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"h2\");\n    i0.ɵɵtext(2, \"No se ha realizado ninguna b\\u00FAsqueda\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class SearchComponent {\n  constructor(spotify, userService) {\n    this.spotify = spotify;\n    this.userService = userService;\n    this.artistas = [];\n  }\n  buscar(termino) {\n    // this.spotify.getArtistas(termino).subscribe((res:any)=>{\n    //   this.artistas = res.artists.items;\n    // })\n    if (termino.length > 0) {\n      this.loading = true;\n      this.logMsg = false;\n      this.spotify.getArtistas(termino).subscribe({\n        next: res => {\n          this.artistas = res;\n          this.loading = false;\n        },\n        error: err => {\n          this.loading = false;\n          this.error = true;\n          Swal.fire({\n            icon: 'error',\n            title: 'ERROR',\n            text: err.error.error.message,\n            allowOutsideClick: false\n          });\n        }\n      });\n    } else {\n      this.logMsg = true;\n      this.artistas = [];\n    }\n    //this.router.navigate([`/artist`, artistaId])\n  }\n  addFavoriteArtist(artist) {\n    this.userService.addFavoriteArtist(artist).then(() => {\n      Swal.fire({\n        icon: 'success',\n        title: 'Added!',\n        text: 'Artist added to your favorites.',\n        allowOutsideClick: false\n      });\n    }).catch(err => {\n      Swal.fire({\n        icon: 'error',\n        title: 'Error',\n        text: err.message,\n        allowOutsideClick: false\n      });\n    });\n  }\n  static #_ = this.ɵfac = function SearchComponent_Factory(t) {\n    return new (t || SearchComponent)(i0.ɵɵdirectiveInject(i1.SpotifyService), i0.ɵɵdirectiveInject(i2.UserService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchComponent,\n    selectors: [[\"app-search\"]],\n    decls: 6,\n    vars: 3,\n    consts: [[\"termino\", \"\"], [1, \"col\"], [\"placeholder\", \"Buscar artista\", 1, \"form-control\", 3, \"keyup\"], [\"class\", \"mt-5\", 4, \"ngIf\"], [\"class\", \"alert alert-info mt-3 text-center\", \"role\", \"alert\", 4, \"ngIf\"], [3, \"items\"], [1, \"mt-5\"], [\"role\", \"alert\", 1, \"alert\", \"alert-info\", \"mt-3\", \"text-center\"]],\n    template: function SearchComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 1)(1, \"input\", 2, 0);\n        i0.ɵɵlistener(\"keyup\", function SearchComponent_Template_input_keyup_1_listener() {\n          i0.ɵɵrestoreView(_r1);\n          const termino_r2 = i0.ɵɵreference(2);\n          return i0.ɵɵresetView(ctx.buscar(termino_r2.value));\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(3, SearchComponent_app_loading_3_Template, 1, 0, \"app-loading\", 3)(4, SearchComponent_div_4_Template, 3, 0, \"div\", 4);\n        i0.ɵɵelement(5, \"app-tarjetas\", 5);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.logMsg);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"items\", ctx.artistas);\n      }\n    },\n    dependencies: [i3.NgIf, i4.LoadingComponent, i5.TarjetasComponent],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Swal","i0","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","SearchComponent","constructor","spotify","userService","artistas","buscar","termino","length","loading","logMsg","getArtistas","subscribe","next","res","error","err","fire","icon","title","text","message","allowOutsideClick","addFavoriteArtist","artist","then","catch","_","ɵɵdirectiveInject","i1","SpotifyService","i2","UserService","_2","selectors","decls","vars","consts","template","SearchComponent_Template","rf","ctx","ɵɵlistener","SearchComponent_Template_input_keyup_1_listener","ɵɵrestoreView","_r1","termino_r2","ɵɵreference","ɵɵresetView","value","ɵɵtemplate","SearchComponent_app_loading_3_Template","SearchComponent_div_4_Template","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\ASUS\\Documents\\GitHub\\ProAsix\\src\\app\\pages\\search\\search.component.ts","C:\\Users\\ASUS\\Documents\\GitHub\\ProAsix\\src\\app\\pages\\search\\search.component.html"],"sourcesContent":["import { Component, Input } from '@angular/core';\r\nimport { SpotifyService } from 'src/app/services/spotify.service';\r\nimport Swal from 'sweetalert2';\r\nimport { UserService } from 'src/app/services/user.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-search',\r\n  templateUrl: './search.component.html',\r\n  styleUrls: ['./search.component.css']\r\n})\r\nexport class SearchComponent{\r\n\r\n  artistas:any[]=[];\r\n\r\n  loading?:boolean;\r\n  logMsg?:boolean;\r\n  error?:boolean;\r\n\r\n\r\n\r\n  constructor(\r\n    private spotify:SpotifyService,\r\n    private userService: UserService\r\n  ) { }\r\n\r\n  buscar(termino:string){\r\n    // this.spotify.getArtistas(termino).subscribe((res:any)=>{\r\n    //   this.artistas = res.artists.items;\r\n    // })\r\n    if (termino.length > 0){\r\n      this.loading=true;\r\n      this.logMsg=false;\r\n\r\n      this.spotify.getArtistas(termino).subscribe({\r\n\r\n        next:(res:any)=>{\r\n          this.artistas= res;\r\n          this.loading=false;\r\n        },\r\n        error:err=>{\r\n          this.loading=false;\r\n          this.error=true;\r\n\r\n          Swal.fire ({\r\n            icon:'error',\r\n            title:'ERROR',\r\n            text:err.error.error.message,\r\n            allowOutsideClick:false\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      this.logMsg=true;\r\n      this.artistas=[];\r\n    }\r\n\r\n    \r\n\r\n    //this.router.navigate([`/artist`, artistaId])\r\n  }\r\n  addFavoriteArtist(artist: any) {\r\n    this.userService.addFavoriteArtist(artist).then(() => {\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Added!',\r\n        text: 'Artist added to your favorites.',\r\n        allowOutsideClick: false\r\n      });\r\n    }).catch(err => {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Error',\r\n        text: err.message,\r\n        allowOutsideClick: false\r\n      });\r\n    });\r\n  }\r\n  //FAVORITOS\r\n  // addFavoritos(artista: any){\r\n  //   this.spotify.artistaFav(artista).then(() =>{\r\n  //     Swal.fire('¡Éxito!', 'Artista agregado a favoritos', 'success');\r\n  //   }).catch(err =>{\r\n  //     Swal.fire('Error', 'No se pudo agregar el artista a favoritos', 'error');\r\n  //   });\r\n  // }\r\n\r\n\r\n}\r\n","    <div class=\"col\">\r\n        <input #termino class=\"form-control\" (keyup)=\"buscar(termino.value)\" placeholder=\"Buscar artista\">\r\n    </div>\r\n\r\n    <app-loading class=\"mt-5\" *ngIf=\"loading\" ></app-loading>\r\n    <div *ngIf=\"logMsg\" class=\"alert alert-info mt-3 text-center\" role=\"alert\" >\r\n        <h2>No se ha realizado ninguna búsqueda</h2>\r\n      </div>\r\n    \r\n    <!-- ARTISTAS EXISTE EN SEARCH.COMPONENTS.TS -->\r\n    <app-tarjetas [items]=\"artistas\">  </app-tarjetas> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}