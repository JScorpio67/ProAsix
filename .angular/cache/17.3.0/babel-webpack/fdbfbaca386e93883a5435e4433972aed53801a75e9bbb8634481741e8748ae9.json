{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/spotify.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../shared/loading/loading.component\";\nimport * as i4 from \"../tarjetas/tarjetas.component\";\nfunction SearchComponent_app_loading_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\", 6);\n  }\n}\nfunction SearchComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"h2\");\n    i0.ɵɵtext(2, \"No se ha realizado ninguna b\\u00FAsqueda\");\n    i0.ɵɵelementEnd()();\n  }\n}\n// import { UserService } from 'src/app/services/user.service';\nexport let SearchComponent = /*#__PURE__*/(() => {\n  class SearchComponent {\n    constructor(spotify) {\n      this.spotify = spotify;\n      this.artistas = [];\n    }\n    buscar(termino) {\n      // this.spotify.getArtistas(termino).subscribe((res:any)=>{\n      //   this.artistas = res.artists.items;\n      // })\n      if (termino.length > 0) {\n        this.loading = true;\n        this.logMsg = false;\n        this.spotify.getArtistas(termino).subscribe({\n          next: res => {\n            this.artistas = res;\n            this.loading = false;\n          },\n          error: err => {\n            this.loading = false;\n            this.error = true;\n            Swal.fire({\n              icon: 'error',\n              title: 'ERROR',\n              text: err.error.error.message,\n              allowOutsideClick: false\n            });\n          }\n        });\n      } else {\n        this.logMsg = true;\n        this.artistas = [];\n      }\n      //this.router.navigate([`/artist`, artistaId])\n    }\n    static #_ = this.ɵfac = function SearchComponent_Factory(t) {\n      return new (t || SearchComponent)(i0.ɵɵdirectiveInject(i1.SpotifyService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SearchComponent,\n      selectors: [[\"app-search\"]],\n      decls: 6,\n      vars: 3,\n      consts: [[\"termino\", \"\"], [1, \"col\"], [\"placeholder\", \"Buscar artista\", 1, \"form-control\", 3, \"keyup\"], [\"class\", \"mt-5\", 4, \"ngIf\"], [\"class\", \"alert alert-info mt-3 text-center\", \"role\", \"alert\", 4, \"ngIf\"], [3, \"items\"], [1, \"mt-5\"], [\"role\", \"alert\", 1, \"alert\", \"alert-info\", \"mt-3\", \"text-center\"]],\n      template: function SearchComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"input\", 2, 0);\n          i0.ɵɵlistener(\"keyup\", function SearchComponent_Template_input_keyup_1_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const termino_r2 = i0.ɵɵreference(2);\n            return i0.ɵɵresetView(ctx.buscar(termino_r2.value));\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(3, SearchComponent_app_loading_3_Template, 1, 0, \"app-loading\", 3)(4, SearchComponent_div_4_Template, 3, 0, \"div\", 4);\n          i0.ɵɵelement(5, \"app-tarjetas\", 5);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.logMsg);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"items\", ctx.artistas);\n        }\n      },\n      dependencies: [i2.NgIf, i3.LoadingComponent, i4.TarjetasComponent]\n    });\n  }\n  return SearchComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}