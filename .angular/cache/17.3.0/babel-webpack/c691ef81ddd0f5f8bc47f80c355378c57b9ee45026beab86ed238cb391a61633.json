{"ast":null,"code":"import { inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth/firebase/auth.service';\nimport { map } from 'rxjs';\n// ???\nexport const routerInjection = () => inject(Router);\nexport const authStateObs$ = () => inject(AuthService).authState$;\nexport const authGuard = () => {\n  const router = routerInjection();\n  return authStateObs$().pipe(map(user => {\n    if (!user) {\n      router.navigateByUrl('auth/log-in');\n      return false;\n    }\n    return true;\n  }));\n};\nexport const publicGuard = () => {\n  const router = routerInjection();\n  return authStateObs$().pipe(map(user => {\n    if (user) {\n      router.navigateByUrl('/');\n      return false;\n    }\n    return true;\n  }));\n};","map":{"version":3,"names":["inject","Router","AuthService","map","routerInjection","authStateObs$","authState$","authGuard","router","pipe","user","navigateByUrl","publicGuard"],"sources":["C:\\Users\\ASUS\\Documents\\GitHub\\ProAsix\\src\\app\\services\\auth\\guards\\auth.guards.ts"],"sourcesContent":["import { inject } from '@angular/core';\r\nimport { CanActivateFn, Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth/firebase/auth.service';\r\n\r\nimport { map } from 'rxjs';\r\n\r\n// ???\r\nexport const routerInjection = () => inject(Router);\r\n\r\nexport const authStateObs$ = () => inject(AuthService).authState$;\r\n\r\nexport const authGuard: CanActivateFn = () => {\r\n  const router = routerInjection();\r\n\r\n  return authStateObs$().pipe(\r\n    map((user) => {\r\n      if (!user) {\r\n        router.navigateByUrl('auth/log-in');\r\n        return false;\r\n      }\r\n      return true;\r\n    })\r\n  );\r\n};\r\n\r\nexport const publicGuard: CanActivateFn = () => {\r\n  const router = routerInjection();\r\n\r\n  return authStateObs$().pipe(\r\n    map((user) => {\r\n      if (user) {\r\n        router.navigateByUrl('/');\r\n        return false;\r\n      }\r\n      return true;\r\n    })\r\n  );\r\n};\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,eAAe;AACtC,SAAwBC,MAAM,QAAQ,iBAAiB;AACvD,SAASC,WAAW,QAAQ,6CAA6C;AAEzE,SAASC,GAAG,QAAQ,MAAM;AAE1B;AACA,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAMJ,MAAM,CAACC,MAAM,CAAC;AAEnD,OAAO,MAAMI,aAAa,GAAGA,CAAA,KAAML,MAAM,CAACE,WAAW,CAAC,CAACI,UAAU;AAEjE,OAAO,MAAMC,SAAS,GAAkBA,CAAA,KAAK;EAC3C,MAAMC,MAAM,GAAGJ,eAAe,EAAE;EAEhC,OAAOC,aAAa,EAAE,CAACI,IAAI,CACzBN,GAAG,CAAEO,IAAI,IAAI;IACX,IAAI,CAACA,IAAI,EAAE;MACTF,MAAM,CAACG,aAAa,CAAC,aAAa,CAAC;MACnC,OAAO,KAAK;IACd;IACA,OAAO,IAAI;EACb,CAAC,CAAC,CACH;AACH,CAAC;AAED,OAAO,MAAMC,WAAW,GAAkBA,CAAA,KAAK;EAC7C,MAAMJ,MAAM,GAAGJ,eAAe,EAAE;EAEhC,OAAOC,aAAa,EAAE,CAACI,IAAI,CACzBN,GAAG,CAAEO,IAAI,IAAI;IACX,IAAIA,IAAI,EAAE;MACRF,MAAM,CAACG,aAAa,CAAC,GAAG,CAAC;MACzB,OAAO,KAAK;IACd;IACA,OAAO,IAAI;EACb,CAAC,CAAC,CACH;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}